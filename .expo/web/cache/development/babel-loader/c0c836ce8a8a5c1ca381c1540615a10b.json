{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { NativeWindStyleSheet as _NativeWindStyleSheet } from \"nativewind\";\nimport React, { useLayoutEffect, useState } from 'react';\nimport RNView from \"react-native-web/dist/exports/View\";\nimport RNText from \"react-native-web/dist/exports/Text\";\nimport RNTouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport RNImage from \"react-native-web/dist/exports/Image\";\nimport { styled } from 'nativewind';\nimport { useNavigation, useRoute } from '@react-navigation/native';\nimport { urlFor } from \"../sanity\";\nimport Currency from 'react-currency-formatter';\nimport { MinusCircleIcon, PlusCircleIcon } from 'react-native-heroicons/solid';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addToBasket, removeFromBasket, selectBasketItemsWithId } from \"../features/basketSlice\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar View = styled(RNView);\nvar Text = styled(RNText);\nvar Image = styled(RNImage);\nvar TouchableOpacity = styled(RNTouchableOpacity);\nvar DishRow = function DishRow(_ref) {\n  var id = _ref.id,\n    name = _ref.name,\n    description = _ref.description,\n    price = _ref.price,\n    image = _ref.image;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isPressed = _useState2[0],\n    setIsPressed = _useState2[1];\n  var items = useSelector(function (state) {\n    return selectBasketItemsWithId(state, id);\n  });\n  var dispatch = useDispatch();\n  var addItemToBasket = function addItemToBasket() {\n    dispatch(addToBasket({\n      id: id,\n      name: name,\n      description: description,\n      price: price,\n      image: image\n    }));\n  };\n  var removeItemFromBasket = function removeItemFromBasket() {\n    if (!items.length > 0) return;\n    dispatch(removeFromBasket({\n      id: id\n    }));\n  };\n  return _jsxs(_Fragment, {\n    children: [_jsx(TouchableOpacity, {\n      onPress: function onPress() {\n        return setIsPressed(!isPressed);\n      },\n      className: \"bg-white border p-4 border-gray-200 \" + (isPressed && \"border-b-0\"),\n      children: _jsxs(View, {\n        className: \"flex-row\",\n        children: [_jsxs(View, {\n          className: \"flex-1 pr-2\",\n          children: [_jsx(Text, {\n            className: \"text-base mb-1\",\n            children: name\n          }), _jsx(Text, {\n            className: \"text-gray-400 text-xs\",\n            children: description\n          }), _jsx(Text, {\n            className: \"text-gray-400 mt-2\",\n            children: _jsx(Currency, {\n              quantity: price,\n              currency: \"GBP\"\n            })\n          })]\n        }, id), _jsx(View, {\n          children: _jsx(Image, {\n            style: {\n              borderWidth: 1,\n              borderColor: \"#F3F3F4\"\n            },\n            source: {\n              uri: urlFor(image).url()\n            },\n            className: \"w-20 h-20 rounded-full p-2\"\n          })\n        })]\n      })\n    }), isPressed && _jsx(View, {\n      className: \"bg-white px-4\",\n      children: _jsxs(View, {\n        className: \"flex-row items-center space-x-2 pb-3\",\n        children: [_jsx(TouchableOpacity, {\n          className: \"\",\n          children: _jsx(MinusCircleIcon, {\n            size: 40,\n            color: \"#0077ff\"\n          })\n        }), _jsx(Text, {\n          className: \"text-gray-400\",\n          children: items.length\n        }), _jsx(TouchableOpacity, {\n          onPress: addItemToBasket,\n          className: \"\",\n          children: _jsx(PlusCircleIcon, {\n            size: 40,\n            color: \"#0077ff\"\n          })\n        })]\n      })\n    })]\n  });\n};\nexport default DishRow;\n_NativeWindStyleSheet.create({\n  styles: {\n    \"mb-1\": {\n      \"marginBottom\": 4\n    },\n    \"mt-2\": {\n      \"marginTop\": 8\n    },\n    \"h-20\": {\n      \"height\": 80\n    },\n    \"w-20\": {\n      \"width\": 80\n    },\n    \"flex-1\": {\n      \"flexGrow\": 1,\n      \"flexShrink\": 1,\n      \"flexBasis\": \"0%\"\n    },\n    \"flex-row\": {\n      \"flexDirection\": \"row\"\n    },\n    \"items-center\": {\n      \"alignItems\": \"center\"\n    },\n    \"rounded-full\": {\n      \"borderTopLeftRadius\": 9999,\n      \"borderTopRightRadius\": 9999,\n      \"borderBottomRightRadius\": 9999,\n      \"borderBottomLeftRadius\": 9999\n    },\n    \"border\": {\n      \"borderTopWidth\": 1,\n      \"borderRightWidth\": 1,\n      \"borderBottomWidth\": 1,\n      \"borderLeftWidth\": 1\n    },\n    \"border-b-0\": {\n      \"borderBottomWidth\": 0\n    },\n    \"border-gray-200\": {\n      \"borderTopColor\": \"#e5e7eb\",\n      \"borderRightColor\": \"#e5e7eb\",\n      \"borderBottomColor\": \"#e5e7eb\",\n      \"borderLeftColor\": \"#e5e7eb\"\n    },\n    \"bg-white\": {\n      \"backgroundColor\": \"#fff\"\n    },\n    \"p-4\": {\n      \"paddingTop\": 16,\n      \"paddingRight\": 16,\n      \"paddingBottom\": 16,\n      \"paddingLeft\": 16\n    },\n    \"p-2\": {\n      \"paddingTop\": 8,\n      \"paddingRight\": 8,\n      \"paddingBottom\": 8,\n      \"paddingLeft\": 8\n    },\n    \"px-4\": {\n      \"paddingLeft\": 16,\n      \"paddingRight\": 16\n    },\n    \"pr-2\": {\n      \"paddingRight\": 8\n    },\n    \"pb-3\": {\n      \"paddingBottom\": 12\n    },\n    \"text-gray-400\": {\n      \"color\": \"#9ca3af\"\n    },\n    \"space-x-2.children@0\": {\n      \"marginLeft\": 8\n    },\n    \"text-base\": {\n      \"fontSize\": 16,\n      \"lineHeight\": 24\n    },\n    \"text-xs\": {\n      \"fontSize\": 12,\n      \"lineHeight\": 16\n    }\n  },\n  atRules: {\n    \"space-x-2.children\": [[[\"selector\", \"(> *:not(:first-child))\"]]]\n  },\n  childClasses: {\n    \"space-x-2\": [\"space-x-2.children\"]\n  }\n});","map":{"version":3,"names":["React","useLayoutEffect","useState","styled","useNavigation","useRoute","urlFor","Currency","MinusCircleIcon","PlusCircleIcon","useDispatch","useSelector","addToBasket","removeFromBasket","selectBasketItemsWithId","View","RNView","Text","RNText","Image","RNImage","TouchableOpacity","RNTouchableOpacity","DishRow","id","name","description","price","image","isPressed","setIsPressed","items","state","dispatch","addItemToBasket","removeItemFromBasket","length","borderWidth","borderColor","uri","url"],"sources":["D:/repos/Deliveroo/components/DishRow.js"],"sourcesContent":["import React, { useLayoutEffect, useState } from 'react';\r\nimport {\r\n    View as RNView,\r\n    Text as RNText,\r\n    TouchableOpacity as RNTouchableOpacity,\r\n    Image as RNImage,\r\n} from 'react-native';\r\n\r\nimport { styled } from 'nativewind';\r\nimport { useNavigation, useRoute } from '@react-navigation/native'\r\nimport { urlFor } from '../sanity';\r\nimport Currency from 'react-currency-formatter';\r\nimport { MinusCircleIcon, PlusCircleIcon } from 'react-native-heroicons/solid';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addToBasket, removeFromBasket, selectBasketItemsWithId } from '../features/basketSlice';\r\n\r\nconst View = styled(RNView);\r\nconst Text = styled(RNText);\r\nconst Image = styled(RNImage);\r\nconst TouchableOpacity = styled(RNTouchableOpacity);\r\n\r\nconst DishRow = ({ id, name, description, price, image }) => {\r\n    const [isPressed, setIsPressed] = useState(false);\r\n    const items = useSelector((state) => selectBasketItemsWithId(state, id));\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const addItemToBasket = () => {\r\n        dispatch(addToBasket({\r\n            id,\r\n            name,\r\n            description,\r\n            price,\r\n            image,\r\n        }));\r\n    }\r\n\r\n    const removeItemFromBasket = () => {\r\n        if (!items.length > 0) return;\r\n\r\n        dispatch(removeFromBasket({ id }));\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <TouchableOpacity onPress={() => setIsPressed(!isPressed)}\r\n                className={`bg-white border p-4 border-gray-200 ${isPressed && \"border-b-0\"}`}>\r\n                <View className='flex-row'>\r\n                    <View key={id} className='flex-1 pr-2'>\r\n                        <Text className='text-base mb-1'>{name}</Text>\r\n                        <Text className='text-gray-400 text-xs'>{description}</Text>\r\n                        <Text className='text-gray-400 mt-2'>\r\n                            <Currency quantity={price} currency='GBP' />\r\n                        </Text>\r\n                    </View>\r\n                    <View>\r\n                        <Image\r\n                            style={{ borderWidth: 1, borderColor: \"#F3F3F4\" }}\r\n                            source={{ uri: urlFor(image).url() }}\r\n                            className='w-20 h-20 rounded-full p-2'\r\n                        />\r\n                    </View>\r\n                </View>\r\n            </TouchableOpacity>\r\n\r\n            {isPressed && (\r\n                <View className='bg-white px-4'>\r\n                    <View className='flex-row items-center space-x-2 pb-3'>\r\n                        <TouchableOpacity\r\n                            className=''>\r\n                            <MinusCircleIcon size={40} color=\"#0077ff\" />\r\n                        </TouchableOpacity>\r\n                        <Text className='text-gray-400'>{items.length}</Text>\r\n                        <TouchableOpacity onPress={addItemToBasket}\r\n                            className=''>\r\n                            <PlusCircleIcon size={40} color=\"#0077ff\" />\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                </View>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DishRow"],"mappings":"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"},"metadata":{},"sourceType":"module"}